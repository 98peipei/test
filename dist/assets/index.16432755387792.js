var Xe=Object.defineProperty;var Ae=Object.getOwnPropertySymbols;var Ze=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable;var Re=(e,n,i)=>n in e?Xe(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,F=(e,n)=>{for(var i in n||(n={}))Ze.call(n,i)&&Re(e,i,n[i]);if(Ae)for(var i of Ae(n))Ke.call(n,i)&&Re(e,i,n[i]);return e};import{_ as R,u as D,L as Q,S as oe,r as et,o as Be,i as ve}from"./index.1643275538779.js";import{L as x,H as g,p as k,q as L,B as $,F as Me,G as He,j as G,h as ae,r as h,Z as X,$ as P,S as V,D as _,C as d,A as E,P as Z,l as O,R as Y,o as K,a0 as ie,t as N,a1 as Ee,Q as re,w as ue,v as ce,O as H,x as q,a2 as me,a3 as tt,y as ne,M as de,k as ee,J as De,n as le,T as ze,a as ke,E as nt,m as fe,a4 as st}from"./vendor.1643275538779.js";import{S as ot}from"./sortable.esm.1643275538779.js";import at from"./parent.1643275538779.js";const it={name:"layoutLogo",setup(){const{proxy:e}=G(),n=D(),i=x(()=>n.state.themeConfig.themeConfig);return{setShowLogo:x(()=>{let{isCollapse:C,layout:o}=n.state.themeConfig.themeConfig;return!C||o==="classic"||document.body.clientWidth<1e3}),getThemeConfig:i,onThemeConfigChange:()=>{if(n.state.themeConfig.themeConfig.layout==="transverse")return!1;e.mittBus.emit("onMenuClick"),n.state.themeConfig.themeConfig.isCollapse=!n.state.themeConfig.themeConfig.isCollapse}}}},Pe=e=>(Me("data-v-7ed482c1"),e=e(),He(),e),lt=Pe(()=>L("img",{src:"https://gitee.com/lyt-top/vue-next-admin-images/raw/master/logo/logo-mini.svg",class:"layout-logo-medium-img"},null,-1)),rt=Pe(()=>L("img",{src:"https://gitee.com/lyt-top/vue-next-admin-images/raw/master/logo/logo-mini.svg",class:"layout-logo-size-img"},null,-1)),ut=[rt];function ct(e,n,i,t,f,C){return t.setShowLogo?(g(),k("div",{key:0,class:"layout-logo",onClick:n[0]||(n[0]=(...o)=>t.onThemeConfigChange&&t.onThemeConfigChange(...o))},[lt,L("span",null,$(t.getThemeConfig.globalTitle),1)])):(g(),k("div",{key:1,class:"layout-logo-size",onClick:n[1]||(n[1]=(...o)=>t.onThemeConfigChange&&t.onThemeConfigChange(...o))},ut))}var qe=R(it,[["render",ct],["__scopeId","data-v-7ed482c1"]]);const mt=ae({name:"navMenuSubItem",props:{chil:{type:Array,default:()=>[]}},setup(e){return{chils:x(()=>e.chil)}}}),dt=["href"];function ft(e,n,i,t,f,C){const o=h("SvgIcon"),l=h("sub-item",!0),s=h("el-sub-menu"),p=h("el-menu-item");return g(!0),k(P,null,X(e.chils,m=>(g(),k(P,null,[m.children&&m.children.length>0?(g(),V(s,{index:m.path,key:m.path},{title:_(()=>[d(o,{name:m.meta.icon},null,8,["name"]),L("span",null,$(e.$t(m.meta.title)),1)]),default:_(()=>[d(l,{chil:m.children},null,8,["chil"])]),_:2},1032,["index"])):(g(),V(p,{index:m.path,key:m.path},{default:_(()=>[!m.meta.isLink||m.meta.isLink&&m.meta.isIframe?(g(),k(P,{key:0},[d(o,{name:m.meta.icon},null,8,["name"]),L("span",null,$(e.$t(m.meta.title)),1)],64)):(g(),k("a",{key:1,href:m.meta.isLink,target:"_blank",rel:"opener"},[d(o,{name:m.meta.icon},null,8,["name"]),E(" "+$(e.$t(m.meta.title)),1)],8,dt))]),_:2},1032,["index"]))],64))),256)}var Oe=R(mt,[["render",ft]]);const ht=ae({name:"navMenuVertical",components:{SubItem:Oe},props:{menuList:{type:Array,default:()=>[]}},setup(e){const{proxy:n}=G(),i=D(),t=Z(),f=O({defaultActive:t.meta.isDynamic?t.meta.isDynamicPath:t.path,isCollapse:!1}),C=x(()=>e.menuList),o=x(()=>i.state.themeConfig.themeConfig),l=s=>{const{path:p,meta:m}=s,u=m.isDynamic?m.isDynamicPath.split("/"):p.split("/");return u.length>=4&&m.isHide?u.splice(0,3).join("/"):p};return Y(i.state.themeConfig.themeConfig,()=>{document.body.clientWidth<=1e3?f.isCollapse=!1:f.isCollapse=o.value.isCollapse},{immediate:!0}),K(()=>{f.defaultActive=l(t)}),ie(s=>{f.defaultActive=l(s),n.mittBus.emit("onMenuClick"),document.body.clientWidth<1e3&&(o.value.isCollapse=!1)}),F({menuLists:C,getThemeConfig:o},N(f))}});function pt(e,n,i,t,f,C){const o=h("SvgIcon"),l=h("SubItem"),s=h("el-sub-menu"),p=h("el-menu-item"),m=h("el-menu");return g(),V(m,{router:"","default-active":e.defaultActive,"background-color":"transparent",collapse:e.isCollapse,"unique-opened":e.getThemeConfig.isUniqueOpened,"collapse-transition":!1},{default:_(()=>[(g(!0),k(P,null,X(e.menuLists,u=>(g(),k(P,null,[u.children&&u.children.length>0?(g(),V(s,{index:u.path,key:u.path},{title:_(()=>[d(o,{name:u.meta.icon},null,8,["name"]),L("span",null,$(e.$t(u.meta.title)),1)]),default:_(()=>[d(l,{chil:u.children},null,8,["chil"])]),_:2},1032,["index"])):(g(),V(p,{index:u.path,key:u.path},Ee({default:_(()=>[d(o,{name:u.meta.icon},null,8,["name"])]),_:2},[!u.meta.isLink||u.meta.isLink&&u.meta.isIframe?{name:"title",fn:_(()=>[L("span",null,$(e.$t(u.meta.title)),1)])}:{name:"title",fn:_(()=>[L("a",{href:u.meta.isLink,target:"_blank",rel:"opener"},$(e.$t(u.meta.title)),9,["href"])])}]),1032,["index"]))],64))),256))]),_:1},8,["default-active","collapse","unique-opened"])}var gt=R(ht,[["render",pt]]);const _t={name:"layoutAside",components:{Logo:qe,Vertical:gt},setup(){const{proxy:e}=G(),n=D(),i=O({menuList:[],clientWidth:""}),t=x(()=>n.state.themeConfig.themeConfig),f=x(()=>n.state.tagsViewRoutes.isTagsViewCurrenFull),C=x(()=>{const{layout:a,isCollapse:y,menuBar:v}=n.state.themeConfig.themeConfig,T=v==="#FFFFFF"||v==="#FFF"||v==="#fff"||v==="#ffffff"?"layout-el-aside-br-color":"";if(i.clientWidth<=1e3)if(y){document.body.setAttribute("class","el-popup-parent--hidden");const W=document.querySelector(".layout-container"),B=document.createElement("div");return B.setAttribute("class","layout-aside-mobile-mode"),W.appendChild(B),B.addEventListener("click",o),[T,"layout-aside-mobile","layout-aside-mobile-open"]}else return o(),[T,"layout-aside-mobile","layout-aside-mobile-close"];else return a==="columns"?y?[T,"layout-aside-pc-1"]:[T,"layout-aside-pc-220"]:y?[T,"layout-aside-pc-64"]:[T,"layout-aside-pc-220"]}),o=()=>{var v;const a=document.querySelector(".layout-aside-mobile-mode");a&&((v=a.parentNode)==null||v.removeChild(a)),document.body.clientWidth<1e3&&(n.state.themeConfig.themeConfig.isCollapse=!1),document.body.setAttribute("class","")},l=x(()=>{let{layout:a,isShowLogo:y}=n.state.themeConfig.themeConfig;return y&&a==="defaults"||y&&a==="columns"}),s=()=>{if(n.state.themeConfig.themeConfig.layout==="columns")return!1;i.menuList=p(n.state.routesList.routesList)},p=a=>a.filter(y=>!y.meta.isHide).map(y=>(y=Object.assign({},y),y.children&&(y.children=p(y.children)),y)),m=a=>{i.clientWidth=a},u=a=>{let{layout:y}=n.state.themeConfig.themeConfig;if(y!=="columns")return!1;a||e.mittBus.emit("restoreDefault"),n.dispatch("routesList/setColumnsMenuHover",a)};return Y(n.state.themeConfig.themeConfig,a=>{if(a.isShowLogoChange!==a.isShowLogo){if(!e.$refs.layoutAsideScrollbarRef)return!1;e.$refs.layoutAsideScrollbarRef.update()}}),Y(n.state,a=>{let{layout:y,isClassicSplitMenu:v}=a.themeConfig.themeConfig;if(y==="classic"&&v)return!1;s()}),re(()=>{m(document.body.clientWidth),s(),e.mittBus.on("setSendColumnsChildren",a=>{i.menuList=a.children}),e.mittBus.on("setSendClassicChildren",a=>{let{layout:y,isClassicSplitMenu:v}=n.state.themeConfig.themeConfig;y==="classic"&&v&&(i.menuList=[],i.menuList=a.children)}),e.mittBus.on("getBreadcrumbIndexSetFilterRoutes",()=>{s()}),e.mittBus.on("layoutMobileResize",a=>{m(a.clientWidth),o()})}),F({setCollapseStyle:C,setShowLogo:l,getThemeConfig:t,isTagsViewCurrenFull:f,onAsideEnterLeave:u},N(i))}},Ct={class:"h100"};function yt(e,n,i,t,f,C){const o=h("Logo"),l=h("Vertical"),s=h("el-scrollbar"),p=h("el-aside");return ue((g(),k("div",Ct,[d(p,{class:q(["layout-aside",t.setCollapseStyle])},{default:_(()=>[t.setShowLogo?(g(),V(o,{key:0})):H("",!0),d(s,{class:"flex-auto",ref:"layoutAsideScrollbarRef",onMouseenter:n[0]||(n[0]=m=>t.onAsideEnterLeave(!0)),onMouseleave:n[1]||(n[1]=m=>t.onAsideEnterLeave(!1))},{default:_(()=>[d(l,{menuList:e.menuList},null,8,["menuList"])]),_:1},512)]),_:1},8,["class"])],512)),[[ce,!t.isTagsViewCurrenFull]])}var $e=R(_t,[["render",yt]]);const wt={name:"layoutBreadcrumb",setup(){const{proxy:e}=G(),n=D(),i=Z(),t=me(),f=O({breadcrumbList:[],routeSplit:[],routeSplitFirst:"",routeSplitIndex:1}),C=x(()=>n.state.themeConfig.themeConfig),o=x(()=>{m(i.path);const{layout:u,isBreadcrumb:a}=n.state.themeConfig.themeConfig;return u==="classic"||u==="transverse"?"none":a?"":"none"}),l=u=>{const{redirect:a,path:y}=u;a?t.push(a):t.push(y)},s=()=>{e.mittBus.emit("onMenuClick"),n.state.themeConfig.themeConfig.isCollapse=!n.state.themeConfig.themeConfig.isCollapse},p=u=>{u.map(a=>{f.routeSplit.map((y,v,T)=>{f.routeSplitFirst===a.path&&(f.routeSplitFirst+=`/${T[f.routeSplitIndex]}`,f.breadcrumbList.push(a),f.routeSplitIndex++,a.children&&p(a.children))})})},m=u=>{if(!n.state.themeConfig.themeConfig.isBreadcrumb)return!1;f.breadcrumbList=[n.state.routesList.routesList[0]],f.routeSplit=u.split("/"),f.routeSplit.shift(),f.routeSplitFirst=`/${f.routeSplit[0]}`,f.routeSplitIndex=1,p(n.state.routesList.routesList)};return K(()=>{m(i.path)}),ie(u=>{m(u.path)}),F({onThemeConfigChange:s,isShowBreadcrumb:o,getThemeConfig:C,onBreadcrumbClick:l},N(f))}},bt={key:0,class:"layout-navbars-breadcrumb-span"},St=["onClick"];function Lt(e,n,i,t,f,C){const o=h("SvgIcon"),l=h("el-breadcrumb-item"),s=h("el-breadcrumb");return g(),k("div",{class:"layout-navbars-breadcrumb",style:de({display:t.isShowBreadcrumb})},[d(o,{class:"layout-navbars-breadcrumb-icon",name:t.getThemeConfig.isCollapse?"elementExpand":"elementFold",onClick:t.onThemeConfigChange},null,8,["name","onClick"]),d(s,{class:"layout-navbars-breadcrumb-hide"},{default:_(()=>[d(tt,{name:"breadcrumb",mode:"out-in"},{default:_(()=>[(g(!0),k(P,null,X(e.breadcrumbList,(p,m)=>(g(),V(l,{key:p.meta.title},{default:_(()=>[m===e.breadcrumbList.length-1?(g(),k("span",bt,[t.getThemeConfig.isBreadcrumbIcon?(g(),V(o,{key:0,name:p.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):H("",!0),E($(e.$t(p.meta.title)),1)])):(g(),k("a",{key:1,onClick:ne(u=>t.onBreadcrumbClick(p),["prevent"])},[t.getThemeConfig.isBreadcrumbIcon?(g(),V(o,{key:0,name:p.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):H("",!0),E($(e.$t(p.meta.title)),1)],8,St))]),_:2},1024))),128))]),_:1})]),_:1})],4)}var vt=R(wt,[["render",Lt],["__scopeId","data-v-2aaaa472"]]);const Ne=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],J=(()=>{const e=Ne[0],n={};for(const i of Ne)if((i==null?void 0:i[1])in document){for(const[f,C]of i.entries())n[e[f]]=C;return n}return!1})(),Ue={change:J.fullscreenchange,error:J.fullscreenerror};let U={request(e=document.documentElement,n){return new Promise((i,t)=>{const f=()=>{U.off("change",f),i()};U.on("change",f);const C=e[J.requestFullscreen](n);C instanceof Promise&&C.then(f).catch(t)})},exit(){return new Promise((e,n)=>{if(!U.isFullscreen){e();return}const i=()=>{U.off("change",i),e()};U.on("change",i);const t=document[J.exitFullscreen]();t instanceof Promise&&t.then(i).catch(n)})},toggle(e,n){return U.isFullscreen?U.exit():U.request(e,n)},onchange(e){U.on("change",e)},onerror(e){U.on("error",e)},on(e,n){const i=Ue[e];i&&document.addEventListener(i,n,!1)},off(e,n){const i=Ue[e];i&&document.removeEventListener(i,n,!1)},raw:J};Object.defineProperties(U,{isFullscreen:{get:()=>Boolean(document[J.fullscreenElement])},element:{enumerable:!0,get:()=>{var e;return(e=document[J.fullscreenElement])!=null?e:void 0}},isEnabled:{enumerable:!0,get:()=>Boolean(document[J.fullscreenEnabled])}});J||(U={isEnabled:!1});var _e=U;const kt={name:"layoutBreadcrumbUserNews",setup(){const e=O({newsList:[{label:"\u5173\u4E8E\u7248\u672C\u53D1\u5E03\u7684\u901A\u77E5",value:"vue-next-admin\uFF0C\u57FA\u4E8E vue3 + CompositionAPI + typescript + vite + element plus\uFF0C\u6B63\u5F0F\u53D1\u5E03\u65F6\u95F4\uFF1A2021\u5E7402\u670828\u65E5\uFF01",time:"2020-12-08"},{label:"\u5173\u4E8E\u5B66\u4E60\u4EA4\u6D41\u7684\u901A\u77E5",value:"QQ\u7FA4\u53F7\u7801 665452019\uFF0C\u6B22\u8FCE\u5C0F\u4F19\u4F34\u5165\u7FA4\u5B66\u4E60\u4EA4\u6D41\u63A2\u8BA8\uFF01",time:"2020-12-08"}]});return F({onAllReadClick:()=>{e.newsList=[]},onGoToGiteeClick:()=>{window.open("https://gitee.com/lyt-top/vue-next-admin")}},N(e))}},$t={class:"layout-navbars-breadcrumb-user-news"},Vt={class:"head-box"},xt={class:"head-box-title"},Ft={class:"content-box"},Tt={class:"content-box-msg"},It={class:"content-box-time"};function At(e,n,i,t,f,C){const o=h("el-empty");return g(),k("div",$t,[L("div",Vt,[L("div",xt,$(e.$t("message.user.newTitle")),1),e.newsList.length>0?(g(),k("div",{key:0,class:"head-box-btn",onClick:n[0]||(n[0]=(...l)=>t.onAllReadClick&&t.onAllReadClick(...l))},$(e.$t("message.user.newBtn")),1)):H("",!0)]),L("div",Ft,[e.newsList.length>0?(g(!0),k(P,{key:0},X(e.newsList,(l,s)=>(g(),k("div",{class:"content-box-item",key:s},[L("div",null,$(l.label),1),L("div",Tt,$(l.value),1),L("div",It,$(l.time),1)]))),128)):(g(),V(o,{key:1,description:e.$t("message.user.newDesc")},null,8,["description"]))]),e.newsList.length>0?(g(),k("div",{key:0,class:"foot-box",onClick:n[1]||(n[1]=(...l)=>t.onGoToGiteeClick&&t.onGoToGiteeClick(...l))},$(e.$t("message.user.newGo")),1)):H("",!0)])}var Rt=R(kt,[["render",At],["__scopeId","data-v-2a18bc52"]]);const Bt=ae({name:"layoutBreadcrumbSearch",setup(){const e=ee(),{t:n}=De(),i=D(),t=me(),f=O({isShowSearch:!1,menuQuery:"",tagsViewList:[]}),C=()=>{f.menuQuery="",f.isShowSearch=!0,p(),le(()=>{e.value.focus()})},o=()=>{f.isShowSearch=!1},l=(a,y)=>{let v=a?f.tagsViewList.filter(s(a)):f.tagsViewList;y(v)},s=a=>y=>y.path.toLowerCase().indexOf(a.toLowerCase())>-1||y.meta.title.toLowerCase().indexOf(a.toLowerCase())>-1||n(y.meta.title).indexOf(a.toLowerCase())>-1,p=()=>{if(f.tagsViewList.length>0)return!1;i.state.tagsViewRoutes.tagsViewRoutes.map(a=>{a.meta.isHide||f.tagsViewList.push(F({},a))})};return F({layoutMenuAutocompleteRef:e,openSearch:C,closeSearch:o,menuSearch:l,onHandleSelect:a=>{let{path:y,redirect:v}=a;a.meta.isLink&&!a.meta.isIframe?window.open(a.meta.isLink):v?t.push(v):t.push(y),o()},onSearchBlur:()=>{o()}},N(f))}}),Mt={class:"layout-search-dialog"};function Ht(e,n,i,t,f,C){const o=h("elementSearch"),l=h("el-icon"),s=h("SvgIcon"),p=h("el-autocomplete"),m=h("el-dialog");return g(),k("div",Mt,[d(m,{modelValue:e.isShowSearch,"onUpdate:modelValue":n[1]||(n[1]=u=>e.isShowSearch=u),width:"300px","destroy-on-close":"",modal:!1,fullscreen:"","show-close":!1},{default:_(()=>[d(p,{modelValue:e.menuQuery,"onUpdate:modelValue":n[0]||(n[0]=u=>e.menuQuery=u),"fetch-suggestions":e.menuSearch,placeholder:e.$t("message.user.searchPlaceholder"),ref:"layoutMenuAutocompleteRef",onSelect:e.onHandleSelect,onBlur:e.onSearchBlur},{prefix:_(()=>[d(l,{class:"el-input__icon"},{default:_(()=>[d(o)]),_:1})]),default:_(({item:u})=>[L("div",null,[d(s,{name:u.meta.icon,class:"mr5"},null,8,["name"]),E(" "+$(e.$t(u.meta.title)),1)])]),_:1},8,["modelValue","fetch-suggestions","placeholder","onSelect","onBlur"])]),_:1},8,["modelValue"])])}var Et=R(Bt,[["render",Ht],["__scopeId","data-v-9be59442"]]);const Dt={name:"layoutBreadcrumbUser",components:{UserNews:Rt,Search:Et},setup(){const{t:e}=De(),{proxy:n}=G(),i=me(),t=D(),f=ee(),C=O({isScreenfull:!1,isShowUserNewsPopover:!1,disabledI18n:"zh-cn",disabledSize:""}),o=x(()=>t.state.userInfos.userInfos),l=x(()=>t.state.themeConfig.themeConfig),s=x(()=>{let{layout:S,isClassicSplitMenu:I}=l.value,A="";return S==="defaults"||S==="classic"&&!I||S==="columns"?A=1:A=null,A}),p=()=>{if(!_e.isEnabled)return ke.warning("\u6682\u4E0D\u4E0D\u652F\u6301\u5168\u5C4F"),!1;_e.toggle(),_e.on("change",()=>{_e.isFullscreen?C.isScreenfull=!0:C.isScreenfull=!1})},m=()=>{n.mittBus.emit("openSetingsDrawer")},u=S=>{S==="logOut"?nt({closeOnClickModal:!1,closeOnPressEscape:!1,title:e("message.user.logOutTitle"),message:e("message.user.logOutMessage"),showCancelButton:!0,confirmButtonText:e("message.user.logOutConfirm"),cancelButtonText:e("message.user.logOutCancel"),beforeClose:(I,A,z)=>{I==="confirm"?(A.confirmButtonLoading=!0,A.confirmButtonText=e("message.user.logOutExit"),setTimeout(()=>{z(),setTimeout(()=>{A.confirmButtonLoading=!1},300)},700)):z()}}).then(()=>{oe.clear(),et(),i.push("/login"),setTimeout(()=>{ke.success(e("message.user.logOutSuccess"))},300)}).catch(()=>{}):S==="wareHouse"?window.open("https://gitee.com/lyt-top/vue-next-admin"):i.push(S)},a=()=>{f.value.openSearch()},y=S=>{Q.remove("themeConfig"),l.value.globalComponentSize=S,Q.set("themeConfig",l.value),n.$ELEMENT.size=S,B(),window.location.reload()},v=S=>{Q.remove("themeConfig"),l.value.globalI18n=S,Q.set("themeConfig",l.value),n.$i18n.locale=S,W(),Be.useTitle()},T=S=>{n.mittBus.emit("getI18nConfig",n.$i18n.messages[S])},W=()=>{switch(Q.get("themeConfig").globalI18n){case"zh-cn":C.disabledI18n="zh-cn",T("zh-cn");break;case"en":C.disabledI18n="en",T("en");break;case"zh-tw":C.disabledI18n="zh-tw",T("zh-tw");break}},B=()=>{switch(Q.get("themeConfig").globalComponentSize){case"":C.disabledSize="";break;case"medium":C.disabledSize="medium";break;case"small":C.disabledSize="small";break;case"mini":C.disabledSize="mini";break}};return K(()=>{Q.get("themeConfig")&&(W(),B())}),F({getUserInfos:o,onLayoutSetingClick:m,onHandleCommandClick:u,onScreenfullClick:p,onSearchClick:a,onComponentSizeChange:y,onLanguageChange:v,searchRef:f,layoutUserFlexNum:s},N(C))}},zt={class:"layout-navbars-breadcrumb-user-icon"},Pt=["title"],qt={class:"layout-navbars-breadcrumb-user-icon"},Ot=["title"],Nt=E("\u7B80\u4F53\u4E2D\u6587"),Ut=E("English"),Wt=E("\u7E41\u9AD4\u4E2D\u6587"),jt=["title"],Gt={class:"layout-navbars-breadcrumb-user-icon"},Qt=["title"],Yt={class:"layout-navbars-breadcrumb-user-link"},Jt=["src"];function Xt(e,n,i,t,f,C){const o=h("el-dropdown-item"),l=h("el-dropdown-menu"),s=h("el-dropdown"),p=h("elementSearch"),m=h("el-icon"),u=h("elementBell"),a=h("el-badge"),y=h("UserNews"),v=h("el-popover"),T=h("elementArrowDown"),W=h("Search");return g(),k("div",{class:"layout-navbars-breadcrumb-user",style:de({flex:t.layoutUserFlexNum})},[d(s,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:t.onComponentSizeChange},{dropdown:_(()=>[d(l,null,{default:_(()=>[d(o,{command:"",disabled:e.disabledSize===""},{default:_(()=>[E($(e.$t("message.user.dropdownDefault")),1)]),_:1},8,["disabled"]),d(o,{command:"medium",disabled:e.disabledSize==="medium"},{default:_(()=>[E($(e.$t("message.user.dropdownMedium")),1)]),_:1},8,["disabled"]),d(o,{command:"small",disabled:e.disabledSize==="small"},{default:_(()=>[E($(e.$t("message.user.dropdownSmall")),1)]),_:1},8,["disabled"]),d(o,{command:"mini",disabled:e.disabledSize==="mini"},{default:_(()=>[E($(e.$t("message.user.dropdownMini")),1)]),_:1},8,["disabled"])]),_:1})]),default:_(()=>[L("div",zt,[L("i",{class:"iconfont icon-ziti",title:e.$t("message.user.title0")},null,8,Pt)])]),_:1},8,["onCommand"]),d(s,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:t.onLanguageChange},{dropdown:_(()=>[d(l,null,{default:_(()=>[d(o,{command:"zh-cn",disabled:e.disabledI18n==="zh-cn"},{default:_(()=>[Nt]),_:1},8,["disabled"]),d(o,{command:"en",disabled:e.disabledI18n==="en"},{default:_(()=>[Ut]),_:1},8,["disabled"]),d(o,{command:"zh-tw",disabled:e.disabledI18n==="zh-tw"},{default:_(()=>[Wt]),_:1},8,["disabled"])]),_:1})]),default:_(()=>[L("div",qt,[L("i",{class:q(["iconfont",e.disabledI18n==="en"?"icon-fuhao-yingwen":"icon-fuhao-zhongwen"]),title:e.$t("message.user.title1")},null,10,Ot)])]),_:1},8,["onCommand"]),L("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:n[0]||(n[0]=(...B)=>t.onSearchClick&&t.onSearchClick(...B))},[d(m,{title:e.$t("message.user.title2")},{default:_(()=>[d(p)]),_:1},8,["title"])]),L("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:n[1]||(n[1]=(...B)=>t.onLayoutSetingClick&&t.onLayoutSetingClick(...B))},[L("i",{class:"icon-skin iconfont",title:e.$t("message.user.title3")},null,8,jt)]),L("div",Gt,[d(v,{placement:"bottom",trigger:"click",visible:e.isShowUserNewsPopover,"onUpdate:visible":n[3]||(n[3]=B=>e.isShowUserNewsPopover=B),width:300,"popper-class":"el-popover-pupop-user-news"},{reference:_(()=>[d(a,{"is-dot":!0,onClick:n[2]||(n[2]=B=>e.isShowUserNewsPopover=!e.isShowUserNewsPopover)},{default:_(()=>[d(m,{title:e.$t("message.user.title4")},{default:_(()=>[d(u)]),_:1},8,["title"])]),_:1})]),default:_(()=>[d(ze,{name:"el-zoom-in-top"},{default:_(()=>[ue(d(y,null,null,512),[[ce,e.isShowUserNewsPopover]])]),_:1})]),_:1},8,["visible"])]),L("div",{class:"layout-navbars-breadcrumb-user-icon mr10",onClick:n[4]||(n[4]=(...B)=>t.onScreenfullClick&&t.onScreenfullClick(...B))},[L("i",{class:q(["iconfont",e.isScreenfull?"icon-tuichuquanping":"icon-fullscreen"]),title:e.isScreenfull?e.$t("message.user.title6"):e.$t("message.user.title5")},null,10,Qt)]),d(s,{"show-timeout":70,"hide-timeout":50,onCommand:t.onHandleCommandClick},{dropdown:_(()=>[d(l,null,{default:_(()=>[d(o,{command:"/home"},{default:_(()=>[E($(e.$t("message.user.dropdown1")),1)]),_:1}),d(o,{command:"wareHouse"},{default:_(()=>[E($(e.$t("message.user.dropdown6")),1)]),_:1}),d(o,{command:"/personal"},{default:_(()=>[E($(e.$t("message.user.dropdown2")),1)]),_:1}),d(o,{command:"/404"},{default:_(()=>[E($(e.$t("message.user.dropdown3")),1)]),_:1}),d(o,{command:"/401"},{default:_(()=>[E($(e.$t("message.user.dropdown4")),1)]),_:1}),d(o,{divided:"",command:"logOut"},{default:_(()=>[E($(e.$t("message.user.dropdown5")),1)]),_:1})]),_:1})]),default:_(()=>[L("span",Yt,[L("img",{src:t.getUserInfos.photo,class:"layout-navbars-breadcrumb-user-link-photo mr5"},null,8,Jt),E(" "+$(t.getUserInfos.userName===""?"test":t.getUserInfos.userName)+" ",1),d(m,{class:"el-icon--right"},{default:_(()=>[d(T)]),_:1})])]),_:1},8,["onCommand"]),d(W,{ref:"searchRef"},null,512)],4)}var Zt=R(Dt,[["render",Xt],["__scopeId","data-v-e1b920c2"]]);const Kt=ae({name:"navMenuHorizontal",components:{SubItem:Oe},props:{menuList:{type:Array,default:()=>[]}},setup(e){const{proxy:n}=G(),i=Z(),t=D(),f=O({defaultActive:null}),C=x(()=>e.menuList),o=u=>{const a=u.wheelDelta||-u.deltaY*40;n.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft=n.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft+a/4},l=()=>{le(()=>{let u=document.querySelector(".el-menu.el-menu--horizontal li.is-active");if(!u)return!1;n.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft=u.offsetLeft})},s=u=>u.filter(a=>!a.meta.isHide).map(a=>(a=Object.assign({},a),a.children&&(a.children=s(a.children)),a)),p=u=>{const a=u.split("/");let y={};return s(t.state.routesList.routesList).map((v,T)=>{v.path===`/${a[1]}`&&(v.k=T,y.item=[F({},v)],y.children=[F({},v)],v.children&&(y.children=v.children))}),y},m=u=>{const{path:a,meta:y}=u;if(t.state.themeConfig.themeConfig.layout==="classic")f.defaultActive=`/${a.split("/")[1]}`;else{const v=y.isDynamic?y.isDynamicPath.split("/"):a.split("/");v.length>=4&&y.isHide?f.defaultActive=v.splice(0,3).join("/"):f.defaultActive=a}};return re(()=>{m(i)}),K(()=>{l()}),ie(u=>{m(u),n.mittBus.emit("onMenuClick");let{layout:a,isClassicSplitMenu:y}=t.state.themeConfig.themeConfig;a==="classic"&&y&&n.mittBus.emit("setSendClassicChildren",p(u.path))}),F({menuLists:C,onElMenuHorizontalScroll:o},N(f))}}),en={class:"el-menu-horizontal-warp"};function tn(e,n,i,t,f,C){const o=h("SvgIcon"),l=h("SubItem"),s=h("el-sub-menu"),p=h("el-menu-item"),m=h("el-menu"),u=h("el-scrollbar");return g(),k("div",en,[d(u,{onWheel:ne(e.onElMenuHorizontalScroll,["prevent"]),ref:"elMenuHorizontalScrollRef"},{default:_(()=>[d(m,{router:"","default-active":e.defaultActive,"background-color":"transparent",mode:"horizontal"},{default:_(()=>[(g(!0),k(P,null,X(e.menuLists,a=>(g(),k(P,null,[a.children&&a.children.length>0?(g(),V(s,{index:a.path,key:a.path},{title:_(()=>[d(o,{name:a.meta.icon},null,8,["name"]),L("span",null,$(e.$t(a.meta.title)),1)]),default:_(()=>[d(l,{chil:a.children},null,8,["chil"])]),_:2},1032,["index"])):(g(),V(p,{index:a.path,key:a.path},Ee({_:2},[!a.meta.isLink||a.meta.isLink&&a.meta.isIframe?{name:"title",fn:_(()=>[d(o,{name:a.meta.icon},null,8,["name"]),E(" "+$(e.$t(a.meta.title)),1)])}:{name:"title",fn:_(()=>[L("a",{href:a.meta.isLink,target:"_blank",rel:"opener"},[d(o,{name:a.meta.icon},null,8,["name"]),E(" "+$(e.$t(a.meta.title)),1)],8,["href"])])}]),1032,["index"]))],64))),256))]),_:1},8,["default-active"])]),_:1},8,["onWheel"])])}var nn=R(Kt,[["render",tn],["__scopeId","data-v-716151be"]]);const sn={name:"layoutBreadcrumbIndex",components:{Breadcrumb:vt,User:Zt,Logo:qe,Horizontal:nn},setup(){const{proxy:e}=G(),n=D(),i=Z(),t=O({menuList:[]}),f=x(()=>n.state.themeConfig.themeConfig),C=x(()=>{let{isShowLogo:u,layout:a}=n.state.themeConfig.themeConfig;return u&&a==="classic"||u&&a==="transverse"}),o=x(()=>{let{layout:u,isClassicSplitMenu:a}=n.state.themeConfig.themeConfig;return u==="transverse"||a&&u==="classic"}),l=()=>{let{layout:u,isClassicSplitMenu:a}=n.state.themeConfig.themeConfig;if(u==="classic"&&a){t.menuList=s(p(n.state.routesList.routesList));const y=m(i.path);e.mittBus.emit("setSendClassicChildren",y)}else t.menuList=p(n.state.routesList.routesList)},s=u=>(u.map(a=>{a.children&&delete a.children}),u),p=u=>u.filter(a=>!a.meta.isHide).map(a=>(a=Object.assign({},a),a.children&&(a.children=p(a.children)),a)),m=u=>{const a=u.split("/");let y={};return p(n.state.routesList.routesList).map((v,T)=>{v.path===`/${a[1]}`&&(v.k=T,y.item=[F({},v)],y.children=[F({},v)],v.children&&(y.children=v.children))}),y};return K(()=>{l(),e.mittBus.on("getBreadcrumbIndexSetFilterRoutes",()=>{l()})}),fe(()=>{e.mittBus.off("getBreadcrumbIndexSetFilterRoutes")}),F({getThemeConfig:f,setIsShowLogo:C,isLayoutTransverse:o},N(t))}},on={class:"layout-navbars-breadcrumb-index"};function an(e,n,i,t,f,C){const o=h("Logo"),l=h("Breadcrumb"),s=h("Horizontal"),p=h("User");return g(),k("div",on,[t.setIsShowLogo?(g(),V(o,{key:0})):H("",!0),d(l),t.isLayoutTransverse?(g(),V(s,{key:1,menuList:e.menuList},null,8,["menuList"])):H("",!0),d(p)])}var ln=R(sn,[["render",an],["__scopeId","data-v-4596ab6e"]]);const rn=ae({name:"layoutTagsViewContextmenu",props:{dropdown:{type:Object}},setup(e,{emit:n}){const i=O({isShow:!1,dropdownList:[{contextMenuClickId:0,txt:"message.tagsView.refresh",affix:!1,icon:"elementRefreshRight"},{contextMenuClickId:1,txt:"message.tagsView.close",affix:!1,icon:"elementClose"},{contextMenuClickId:2,txt:"message.tagsView.closeOther",affix:!1,icon:"elementCircleClose"},{contextMenuClickId:3,txt:"message.tagsView.closeAll",affix:!1,icon:"elementFolderDelete"},{contextMenuClickId:4,txt:"message.tagsView.fullscreen",affix:!1,icon:"iconfont icon-fullscreen"}],item:{},arrowLeft:10}),t=x(()=>e.dropdown.x+117>document.documentElement.clientWidth?{x:document.documentElement.clientWidth-117-5,y:e.dropdown.y}:e.dropdown),f=l=>{n("currentContextmenuClick",Object.assign({},{contextMenuClickId:l},i.item))},C=l=>{i.item=l,l.meta.isAffix?i.dropdownList[1].affix=!0:i.dropdownList[1].affix=!1,o(),setTimeout(()=>{i.isShow=!0},10)},o=()=>{i.isShow=!1};return K(()=>{document.body.addEventListener("click",o)}),fe(()=>{document.body.removeEventListener("click",o)}),Y(()=>e.dropdown,({x:l})=>{l+117>document.documentElement.clientWidth?i.arrowLeft=117-(document.documentElement.clientWidth-l):i.arrowLeft=10},{deep:!0}),F({dropdowns:t,openContextmenu:C,closeContextmenu:o,onCurrentContextmenuClick:f},N(i))}}),un={class:"el-dropdown-menu"},cn=["onClick"];function mn(e,n,i,t,f,C){const o=h("SvgIcon");return g(),V(ze,{name:"el-zoom-in-center"},{default:_(()=>[ue((g(),k("div",{"aria-hidden":"true",class:"el-dropdown__popper el-popper is-light is-pure custom-contextmenu",role:"tooltip","data-popper-placement":"bottom",style:de(`top: ${e.dropdowns.y+5}px;left: ${e.dropdowns.x}px;`),key:Math.random()},[L("ul",un,[(g(!0),k(P,null,X(e.dropdownList,(l,s)=>(g(),k(P,null,[l.affix?H("",!0):(g(),k("li",{class:"el-dropdown-menu__item","aria-disabled":"false",tabindex:"-1",key:s,onClick:p=>e.onCurrentContextmenuClick(l.contextMenuClickId)},[d(o,{name:l.icon},null,8,["name"]),L("span",null,$(e.$t(l.txt)),1)],8,cn))],64))),256))]),L("div",{class:"el-popper__arrow",style:de({left:`${e.arrowLeft}px`})},null,4)],4)),[[ce,e.isShow]])]),_:1})}var dn=R(rn,[["render",mn],["__scopeId","data-v-51907903"]]);const fn={name:"layoutTagsView",components:{Contextmenu:dn},setup(){const{proxy:e}=G(),n=ee([]),i=ee(),t=ee(),f=ee(),C=D(),o=Z(),l=me(),s=O({routeActive:"",routePath:o.path,dropdown:{x:"",y:""},tagsRefsIndex:0,tagsViewList:[],sortable:"",tagsViewRoutesList:[]}),p=x(()=>C.state.themeConfig.themeConfig.tagsStyle),m=x(()=>C.state.themeConfig.themeConfig),u=c=>m.value.isShareTagsView?c.path===s.routePath:c.url?c.url===s.routeActive:c.path===s.routeActive,a=c=>{oe.set("tagsViewList",c)},y=async()=>{s.routeActive=await te(o),s.routePath=await o.meta.isDynamic?o.meta.isDynamicPath:o.path,s.tagsViewList=[],s.tagsViewRoutesList=C.state.tagsViewRoutes.tagsViewRoutes,v()},v=async()=>{oe.get("tagsViewList")&&m.value.isCacheTagsView?s.tagsViewList=await oe.get("tagsViewList"):(await s.tagsViewRoutesList.map(c=>{c.meta.isAffix&&!c.meta.isHide&&(c.url=te(c),s.tagsViewList.push(F({},c)))}),await B(o.path,o)),Fe(m.value.isShareTagsView?s.routePath:s.routeActive)},T=async(c,r)=>{let b=r.meta.isDynamic?r.meta.isDynamicPath:c;if(s.tagsViewList.filter(M=>M.path===b&&ve(r.meta.isDynamic?M.params?M.params:null:M.query?M.query:null,r.meta.isDynamic?(r==null?void 0:r.params)?r==null?void 0:r.params:null:(r==null?void 0:r.query)?r==null?void 0:r.query:null)).length<=0){let M=s.tagsViewRoutesList.find(j=>j.path===b);if(M.meta.isAffix||M.meta.isLink&&!M.meta.isIframe)return!1;r.meta.isDynamic?M.params=r.params:M.query=r.query,M.url=te(M),s.tagsViewList.push(F({},M)),a(s.tagsViewList)}},W=(c,r)=>{let b=r.meta.isDynamic?r.meta.isDynamicPath:c;s.tagsViewList.forEach(w=>{w.path===b&&!ve(r.meta.isDynamic?w.params?w.params:null:w.query?w.query:null,r.meta.isDynamic?(r==null?void 0:r.params)?r==null?void 0:r.params:null:(r==null?void 0:r.query)?r==null?void 0:r.query:null)&&(r.meta.isDynamic?w.params=r.params:w.query=r.query,w.url=te(w),a(s.tagsViewList))})},B=(c,r)=>{le(async()=>{let b="";if(r&&r.meta.isDynamic){if(m.value.isShareTagsView?await W(c,r):await T(c,r),s.tagsViewList.some(w=>w.path===r.meta.isDynamicPath))return!1;b=s.tagsViewRoutesList.find(w=>w.path===r.meta.isDynamicPath)}else{if(m.value.isShareTagsView?await W(c,r):await T(c,r),s.tagsViewList.some(w=>w.path===c))return!1;b=s.tagsViewRoutesList.find(w=>w.path===c)}if(b.meta.isLink&&!b.meta.isIframe)return!1;r&&r.meta.isDynamic?b.params=(r==null?void 0:r.params)?r==null?void 0:r.params:o.params:b.query=(r==null?void 0:r.query)?r==null?void 0:r.query:o.query,b.url=te(b),await s.tagsViewList.push(F({},b)),await a(s.tagsViewList)})},S=c=>{e.mittBus.emit("onTagsViewRefreshRouterView",c)},I=c=>{s.tagsViewList.map((r,b,w)=>{r.meta.isAffix||(m.value.isShareTagsView?r.path===c:r.url===c)&&(s.tagsViewList.splice(b,1),setTimeout(()=>{(s.tagsViewList.length===b&&m.value.isShareTagsView?s.routePath===c:s.routeActive===c)?w[w.length-1].meta.isDynamic?b!==w.length?l.push({name:w[b].name,params:w[b].params}):l.push({name:w[w.length-1].name,params:w[w.length-1].params}):b!==w.length?l.push({path:w[b].path,query:w[b].query}):l.push({path:w[w.length-1].path,query:w[w.length-1].query}):(s.tagsViewList.length!==b&&m.value.isShareTagsView?s.routePath===c:s.routeActive===c)&&(w[b].meta.isDynamic?l.push({name:w[b].name,params:w[b].params}):l.push({path:w[b].path,query:w[b].query}))},0))}),a(s.tagsViewList)},A=c=>{s.tagsViewList=[],s.tagsViewRoutesList.map(r=>{r.meta.isAffix&&!r.meta.isHide&&s.tagsViewList.push(F({},r))}),B(c,o)},z=()=>{s.tagsViewList=[],s.tagsViewRoutesList.map(c=>{c.meta.isAffix&&!c.meta.isHide&&(s.tagsViewList.push(F({},c)),l.push({path:s.tagsViewList[s.tagsViewList.length-1].path}))}),a(s.tagsViewList)},we=async c=>{const r=s.tagsViewList.find(b=>m.value.isShareTagsView?b.path===c:b.url===c);r.meta.isDynamic?await l.push({name:r.name,params:r.params}):await l.push({name:r.name,query:r.query}),C.dispatch("tagsViewRoutes/setCurrenFullscreen",!0)},Ve=(c,r)=>(oe.get("tagsViewList")?oe.get("tagsViewList"):s.tagsViewList).find(w=>{if(w.path===c&&ve(w.meta.isDynamic?w.params?w.params:null:w.query?w.query:null,r&&Object.keys(r||{}).length>0?r:null))return w;if(w.path===c&&Object.keys(r||{}).length<=0)return w}),xe=async c=>{const r=c.meta.isDynamic?c.params:c.query;if(!Ve(c.path,r))return ke({type:"warning",message:"\u8BF7\u6B63\u786E\u8F93\u5165\u8DEF\u5F84\u53CA\u5B8C\u6574\u53C2\u6570\uFF08query\u3001params\uFF09"});const{path:b,name:w,params:M,query:j,meta:he,url:se}=Ve(c.path,r);switch(c.contextMenuClickId){case 0:he.isDynamic?await l.push({name:w,params:M}):await l.push({path:b,query:j}),S(o.fullPath);break;case 1:I(m.value.isShareTagsView?b:se);break;case 2:he.isDynamic?await l.push({name:w,params:M}):await l.push({path:b,query:j}),A(b);break;case 3:z();break;case 4:we(m.value.isShareTagsView?b:se);break}},je=(c,r)=>{const{clientX:b,clientY:w}=r;s.dropdown.x=b,s.dropdown.y=w,t.value.openContextmenu(c)},Ge=(c,r)=>{s.tagsRefsIndex=r,l.push(c)},te=c=>{let r=c.query&&Object.keys(c.query).length>0?c.query:c.params;if(!r||Object.keys(r).length<=0)return c.path;let b="";for(let w in r)b+=r[w];return`${c.meta.isDynamic?c.meta.isDynamicPath:c.path}-${b}`},Qe=()=>{e.$refs.scrollbarRef.update()},Ye=c=>{e.$refs.scrollbarRef.$refs.wrap$.scrollLeft+=c.wheelDelta/4},Je=()=>{le(()=>{if(n.value.length<=0)return!1;let c=n.value[s.tagsRefsIndex],r=s.tagsRefsIndex,b=n.value.length,w=n.value[0],M=n.value[n.value.length-1],j=e.$refs.scrollbarRef.$refs.wrap$,he=j.scrollWidth,se=j.offsetWidth,Te=j.scrollLeft,Le=n.value[s.tagsRefsIndex-1],Ie=n.value[s.tagsRefsIndex+1],pe="",ge="";c===w?j.scrollLeft=0:c===M?j.scrollLeft=he-se:(r===0?pe=w.offsetLeft-5:pe=(Le==null?void 0:Le.offsetLeft)-5,r===b?ge=M.offsetLeft+M.offsetWidth+5:ge=Ie.offsetLeft+Ie.offsetWidth+5,ge>Te+se?j.scrollLeft=ge-se:pe<Te&&(j.scrollLeft=pe)),Qe()})},Fe=c=>{le(async()=>{let r=await s.tagsViewList;s.tagsRefsIndex=r.findIndex(b=>m.value.isShareTagsView?b.path===c:b.url===c),Je()})},be=async()=>{const c=document.querySelector(".layout-navbars-tagsview-ul");if(!c)return!1;s.sortable.el&&s.sortable.destroy(),s.sortable=ot.create(c,{animation:300,dataIdAttr:"data-url",disabled:!m.value.isSortableTagsView,onEnd:()=>{const r=[];s.sortable.toArray().map(b=>{s.tagsViewList.map(w=>{w.url===b&&r.push(F({},w))})}),a(r)}})},Se=async()=>{await be(),Be.isMobile()&&s.sortable.el&&s.sortable.destroy()};return re(()=>{Se(),window.addEventListener("resize",Se),e.mittBus.on("onCurrentContextmenuClick",c=>{xe(c)}),e.mittBus.on("openOrCloseSortable",()=>{be()}),e.mittBus.on("openShareTagsView",()=>{m.value.isShareTagsView&&(l.push("/home"),s.tagsViewList=[],s.tagsViewRoutesList.map(c=>{c.meta.isAffix&&!c.meta.isHide&&(c.url=te(c),s.tagsViewList.push(F({},c)))}))})}),fe(()=>{e.mittBus.off("onCurrentContextmenuClick"),e.mittBus.off("openOrCloseSortable"),e.mittBus.off("openShareTagsView"),window.removeEventListener("resize",Se)}),st(()=>{n.value=[]}),K(()=>{y(),be()}),ie(async c=>{s.routeActive=te(c),s.routePath=c.meta.isDynamic?c.meta.isDynamicPath:c.path,await B(c.path,c),Fe(m.value.isShareTagsView?s.routePath:s.routeActive)}),Y(C.state,c=>{if(c.tagsViewRoutes.tagsViewRoutes.length===s.tagsViewRoutesList.length)return!1;y()}),F({isActive:u,onContextmenu:je,getTagsViewRoutes:y,onTagsClick:Ge,tagsRefs:n,contextmenuRef:t,scrollbarRef:i,tagsUlRef:f,onHandleScroll:Ye,getThemeConfig:m,setTagsStyle:p,refreshCurrentTagsView:S,closeCurrentTagsView:I,onCurrentContextmenuClick:xe},N(s))}},hn=["data-url","onContextmenu","onClick"],pn={key:0,class:"iconfont icon-webicon318 layout-navbars-tagsview-ul-li-iconfont font14"};function gn(e,n,i,t,f,C){const o=h("SvgIcon"),l=h("el-scrollbar"),s=h("Contextmenu");return g(),k("div",{class:q(["layout-navbars-tagsview",{"layout-navbars-tagsview-shadow":t.getThemeConfig.layout==="classic"}])},[d(l,{ref:"scrollbarRef",onWheel:ne(t.onHandleScroll,["prevent"])},{default:_(()=>[L("ul",{class:q(["layout-navbars-tagsview-ul",t.setTagsStyle]),ref:"tagsUlRef"},[(g(!0),k(P,null,X(e.tagsViewList,(p,m)=>(g(),k("li",{key:m,class:q(["layout-navbars-tagsview-ul-li",{"is-active":t.isActive(p)}]),"data-url":p.url,onContextmenu:ne(u=>t.onContextmenu(p,u),["prevent"]),onClick:u=>t.onTagsClick(p,m),ref_for:!0,ref:u=>{u&&(t.tagsRefs[m]=u)}},[t.isActive(p)?(g(),k("i",pn)):H("",!0),!t.isActive(p)&&t.getThemeConfig.isTagsviewIcon?(g(),V(o,{key:1,name:p.meta.icon,class:"layout-navbars-tagsview-ul-li-iconfont"},null,8,["name"])):H("",!0),L("span",null,$(e.$t(p.meta.title)),1),t.isActive(p)?(g(),k(P,{key:2},[d(o,{name:"elementRefreshRight",class:"ml5 layout-navbars-tagsview-ul-li-refresh",onClick:n[0]||(n[0]=ne(u=>t.refreshCurrentTagsView(e.$route.fullPath),["stop"]))}),p.meta.isAffix?H("",!0):(g(),V(o,{key:0,name:"elementClose",class:"layout-navbars-tagsview-ul-li-icon layout-icon-active",onClick:ne(u=>t.closeCurrentTagsView(t.getThemeConfig.isShareTagsView?p.path:p.url),["stop"])},null,8,["onClick"]))],64)):H("",!0),p.meta.isAffix?H("",!0):(g(),V(o,{key:3,name:"elementClose",class:"layout-navbars-tagsview-ul-li-icon layout-icon-three",onClick:ne(u=>t.closeCurrentTagsView(t.getThemeConfig.isShareTagsView?p.path:p.url),["stop"])},null,8,["onClick"]))],42,hn))),128))],2)]),_:1},8,["onWheel"]),d(s,{dropdown:e.dropdown,ref:"contextmenuRef",onCurrentContextmenuClick:t.onCurrentContextmenuClick},null,8,["dropdown","onCurrentContextmenuClick"])],2)}var We=R(fn,[["render",gn],["__scopeId","data-v-2adc79d2"]]);const _n={name:"layoutNavBars",components:{BreadcrumbIndex:ln,TagsView:We},setup(){const e=D();return{setShowTagsView:x(()=>{let{layout:i,isTagsview:t}=e.state.themeConfig.themeConfig;return i!=="classic"&&t})}}},Cn={class:"layout-navbars-container"};function yn(e,n,i,t,f,C){const o=h("BreadcrumbIndex"),l=h("TagsView");return g(),k("div",Cn,[d(o),t.setShowTagsView?(g(),V(l,{key:0})):H("",!0)])}var wn=R(_n,[["render",yn],["__scopeId","data-v-4d355550"]]);const bn={name:"layoutHeader",components:{NavBarsIndex:wn},setup(){const e=D(),n=x(()=>{let{isTagsview:t,layout:f}=e.state.themeConfig.themeConfig;return t&&f!=="classic"?"84px":"50px"}),i=x(()=>e.state.tagsViewRoutes.isTagsViewCurrenFull);return{setHeaderHeight:n,isTagsViewCurrenFull:i}}};function Sn(e,n,i,t,f,C){const o=h("NavBarsIndex"),l=h("el-header");return ue((g(),V(l,{class:"layout-header",height:t.setHeaderHeight},{default:_(()=>[d(o)]),_:1},8,["height"])),[[ce,!t.isTagsViewCurrenFull]])}var Ce=R(bn,[["render",Sn]]);const Ln={name:"layoutFooter",setup(){const e=O({isDelayFooter:!0});return ie(()=>{e.isDelayFooter=!1,setTimeout(()=>{e.isDelayFooter=!0},800)}),F({},N(e))}},vn=e=>(Me("data-v-19515c88"),e=e(),He(),e),kn={class:"layout-footer mt15"},$n={class:"layout-footer-warp"},Vn=vn(()=>L("div",null,"vue-next-admin\uFF0CMade by lyt with \u2764\uFE0F",-1)),xn={class:"mt5"};function Fn(e,n,i,t,f,C){return ue((g(),k("div",kn,[L("div",$n,[Vn,L("div",xn,$(e.$t("message.copyright.one5")),1)])],512)),[[ce,e.isDelayFooter]])}var Tn=R(Ln,[["render",Fn],["__scopeId","data-v-19515c88"]]);const In=ae({name:"layoutMain",components:{LayoutParentView:at,Footer:Tn},setup(){const{proxy:e}=G(),n=Z(),i=D(),t=O({headerHeight:"",currentRouteMeta:{}}),f=x(()=>i.state.themeConfig.themeConfig),C=()=>{let{isTagsview:l}=i.state.themeConfig.themeConfig;return l?t.headerHeight="84px":t.headerHeight="50px"},o=()=>{t.currentRouteMeta=n.meta};return re(()=>{C(),o()}),Y(i.state.themeConfig.themeConfig,l=>{if(t.headerHeight=l.isTagsview?"84px":"50px",l.isFixedHeaderChange!==l.isFixedHeader){if(!e.$refs.layoutScrollbarRef)return!1;e.$refs.layoutScrollbarRef.update()}}),Y(()=>n.path,()=>{t.currentRouteMeta=n.meta}),F({getThemeConfig:f},N(t))}});function An(e,n,i,t,f,C){const o=h("LayoutParentView"),l=h("Footer"),s=h("el-scrollbar"),p=h("el-main");return g(),V(p,{class:"layout-main"},{default:_(()=>[d(s,{class:"layout-scrollbar",ref:"layoutScrollbarRef",style:de({minHeight:`calc(100vh - ${e.headerHeight})`,padding:e.currentRouteMeta.isLink&&e.currentRouteMeta.isIframe?0:"",transition:"padding 0.3s ease-in-out"})},{default:_(()=>[d(o),e.getThemeConfig.isFooter?(g(),V(l,{key:0})):H("",!0)]),_:1},8,["style"])]),_:1})}var ye=R(In,[["render",An]]);const Rn={name:"layoutDefaults",components:{Aside:$e,Header:Ce,Main:ye},setup(){const{proxy:e}=G(),n=D(),i=Z(),t=x(()=>n.state.themeConfig.themeConfig.isFixedHeader);return Y(()=>i.path,()=>{e.$refs.layoutDefaultsScrollbarRef.wrap$.scrollTop=0}),{isFixedHeader:t}}};function Bn(e,n,i,t,f,C){const o=h("Aside"),l=h("Header"),s=h("Main"),p=h("el-scrollbar"),m=h("el-container"),u=h("el-backtop");return g(),V(m,{class:"layout-container"},{default:_(()=>[d(o),d(m,{class:q(["flex-center",{"layout-backtop":!t.isFixedHeader}])},{default:_(()=>[t.isFixedHeader?(g(),V(l,{key:0})):H("",!0),d(p,{ref:"layoutDefaultsScrollbarRef",class:q({"layout-backtop":t.isFixedHeader})},{default:_(()=>[t.isFixedHeader?H("",!0):(g(),V(l,{key:0})),d(s)]),_:1},8,["class"])]),_:1},8,["class"]),d(u,{target:".layout-backtop .el-scrollbar__wrap"})]),_:1})}var Mn=R(Rn,[["render",Bn]]);const Hn={name:"layoutClassic",components:{Aside:$e,Header:Ce,Main:ye,TagsView:We},setup(){const e=D();return{getThemeConfig:x(()=>e.state.themeConfig.themeConfig)}}},En={class:"flex-center layout-backtop"};function Dn(e,n,i,t,f,C){const o=h("Header"),l=h("Aside"),s=h("TagsView"),p=h("Main"),m=h("el-container"),u=h("el-backtop");return g(),V(m,{class:"layout-container flex-center"},{default:_(()=>[d(o),d(m,{class:"layout-mian-height-50"},{default:_(()=>[d(l),L("div",En,[t.getThemeConfig.isTagsview?(g(),V(s,{key:0})):H("",!0),d(p)])]),_:1}),d(u,{target:".layout-backtop .el-main .el-scrollbar__wrap"})]),_:1})}var zn=R(Hn,[["render",Dn]]);const Pn={name:"layoutTransverse",components:{Header:Ce,Main:ye}};function qn(e,n,i,t,f,C){const o=h("Header"),l=h("Main"),s=h("el-backtop"),p=h("el-container");return g(),V(p,{class:"layout-container flex-center layout-backtop"},{default:_(()=>[d(o),d(l),d(s,{target:".layout-backtop .el-main .el-scrollbar__wrap"})]),_:1})}var On=R(Pn,[["render",qn]]);const Nn={name:"layoutColumnsAside",setup(){const e=ee([]),n=ee(),{proxy:i}=G(),t=D(),f=Z(),C=me(),o=O({columnsAsideList:[],liIndex:0,liOldIndex:null,liHoverIndex:null,liOldPath:null,difference:0,routeSplit:[],isNavHover:!1}),l=x(()=>t.state.themeConfig.themeConfig.columnsAsideStyle),s=x(()=>t.state.themeConfig.themeConfig.columnsAsideLayout),p=S=>{o.liIndex=S,n.value.style.top=`${e.value[S].offsetTop+o.difference}px`},m=(S,I)=>{p(I);let{path:A,redirect:z}=S;z?C.push(z):C.push(A)},u=(S,I)=>{let{path:A}=S;o.liOldPath=A,o.liOldIndex=I,o.liHoverIndex=I,i.mittBus.emit("setSendColumnsChildren",T(A)),t.dispatch("routesList/setColumnsMenuHover",!1),t.dispatch("routesList/setColumnsNavHover",!0),o.isNavHover=!0},a=async()=>{await t.dispatch("routesList/setColumnsNavHover",!1),setTimeout(()=>{const{isColumnsMenuHover:S,isColumnsNavHover:I}=t.state.routesList;!S&&!I&&i.mittBus.emit("restoreDefault")},100)},y=S=>{le(()=>{p(S)})},v=()=>{o.columnsAsideList=W(t.state.routesList.routesList);const S=T(f.path);if(Object.keys(S).length<=0)return!1;y(S.item[0].k),i.mittBus.emit("setSendColumnsChildren",S)},T=S=>{const I=S.split("/");let A={};return o.columnsAsideList.map((z,we)=>{z.path===`/${I[1]}`&&(z.k=we,A.item=[F({},z)],A.children=[F({},z)],z.children&&(A.children=z.children))}),A},W=S=>S.filter(I=>!I.meta.isHide).map(I=>(I=Object.assign({},I),I.children&&(I.children=W(I.children)),I)),B=S=>{o.routeSplit=S.split("/"),o.routeSplit.shift();const I=`/${o.routeSplit[0]}`,A=o.columnsAsideList.find(z=>z.path===I);if(!A)return!1;setTimeout(()=>{y(A.k)},0)};return Y(t.state,S=>{if(S.themeConfig.themeConfig.columnsAsideStyle==="columnsRound"?o.difference=3:o.difference=0,!S.routesList.isColumnsMenuHover&&!S.routesList.isColumnsNavHover)o.liHoverIndex=null,i.mittBus.emit("setSendColumnsChildren",T(f.path));else{if(o.liHoverIndex=o.liOldIndex,!o.liOldPath)return!1;i.mittBus.emit("setSendColumnsChildren",T(o.liOldPath))}}),K(()=>{v(),i.mittBus.on("restoreDefault",()=>{o.liOldIndex=null,o.liOldPath=null})}),fe(()=>{i.mittBus.off("restoreDefault",()=>{})}),ie(S=>{B(S.path),i.mittBus.emit("setSendColumnsChildren",T(S.path))}),F({columnsAsideOffsetTopRefs:e,columnsAsideActiveRef:n,onColumnsAsideDown:y,setColumnsAsideStyle:l,setColumnsAsidelayout:s,onColumnsAsideMenuClick:m,onColumnsAsideMenuMouseenter:u,onColumnsAsideMenuMouseleave:a},N(o))}},Un={class:"layout-columns-aside"},Wn=["onClick","onMouseenter","title"],jn={class:"columns-vertical-title font12"},Gn=["href"],Qn={class:"columns-vertical-title font12"};function Yn(e,n,i,t,f,C){const o=h("SvgIcon"),l=h("el-scrollbar");return g(),k("div",Un,[d(l,null,{default:_(()=>[L("ul",{onMouseleave:n[0]||(n[0]=s=>t.onColumnsAsideMenuMouseleave())},[(g(!0),k(P,null,X(e.columnsAsideList,(s,p)=>(g(),k("li",{key:p,onClick:m=>t.onColumnsAsideMenuClick(s,p),onMouseenter:m=>t.onColumnsAsideMenuMouseenter(s,p),ref_for:!0,ref:m=>{m&&(t.columnsAsideOffsetTopRefs[p]=m)},class:q({"layout-columns-active":e.liIndex===p,"layout-columns-hover":e.liHoverIndex===p}),title:e.$t(s.meta.title)},[!s.meta.isLink||s.meta.isLink&&s.meta.isIframe?(g(),k("div",{key:0,class:q(t.setColumnsAsidelayout)},[d(o,{name:s.meta.icon},null,8,["name"]),L("div",jn,$(e.$t(s.meta.title)&&e.$t(s.meta.title).length>=4?e.$t(s.meta.title).substr(0,t.setColumnsAsidelayout==="columns-vertical"?4:3):e.$t(s.meta.title)),1)],2)):(g(),k("div",{key:1,class:q(t.setColumnsAsidelayout)},[L("a",{href:s.meta.isLink,target:"_blank"},[d(o,{name:s.meta.icon},null,8,["name"]),L("div",Qn,$(e.$t(s.meta.title)&&e.$t(s.meta.title).length>=4?e.$t(s.meta.title).substr(0,t.setColumnsAsidelayout==="columns-vertical"?4:3):e.$t(s.meta.title)),1)],8,Gn)],2))],42,Wn))),128)),L("div",{ref:"columnsAsideActiveRef",class:q(t.setColumnsAsideStyle)},null,2)],32)]),_:1})])}var Jn=R(Nn,[["render",Yn],["__scopeId","data-v-21c9fb78"]]);const Xn={name:"layoutColumns",components:{Aside:$e,Header:Ce,Main:ye,ColumnsAside:Jn},setup(){const e=D();return{isFixedHeader:x(()=>e.state.themeConfig.themeConfig.isFixedHeader)}}},Zn={class:"layout-columns-warp"};function Kn(e,n,i,t,f,C){const o=h("ColumnsAside"),l=h("Aside"),s=h("Header"),p=h("Main"),m=h("el-scrollbar"),u=h("el-container"),a=h("el-backtop");return g(),V(u,{class:"layout-container"},{default:_(()=>[d(o),L("div",Zn,[d(l),d(u,{class:q(["flex-center layout-backtop",{"layout-backtop":!t.isFixedHeader}])},{default:_(()=>[t.isFixedHeader?(g(),V(s,{key:0})):H("",!0),d(m,{class:q({"layout-backtop":t.isFixedHeader})},{default:_(()=>[t.isFixedHeader?H("",!0):(g(),V(s,{key:0})),d(p)]),_:1},8,["class"])]),_:1},8,["class"])]),d(a,{target:".layout-backtop .el-scrollbar__wrap"})]),_:1})}var es=R(Xn,[["render",Kn]]);const ts={name:"layout",components:{Defaults:Mn,Classic:zn,Transverse:On,Columns:es},setup(){const{proxy:e}=G(),n=D(),i=x(()=>n.state.themeConfig.themeConfig),t=()=>{Q.get("oldLayout")||Q.set("oldLayout",i.value.layout);const f=document.body.clientWidth;f<1e3?(i.value.isCollapse=!1,e.mittBus.emit("layoutMobileResize",{layout:"defaults",clientWidth:f})):e.mittBus.emit("layoutMobileResize",{layout:Q.get("oldLayout")?Q.get("oldLayout"):i.value.layout,clientWidth:f})};return re(()=>{t(),window.addEventListener("resize",t)}),fe(()=>{window.removeEventListener("resize",t)}),{getThemeConfig:i}}};function ns(e,n,i,t,f,C){const o=h("Defaults"),l=h("Classic"),s=h("Transverse"),p=h("Columns");return t.getThemeConfig.layout==="defaults"?(g(),V(o,{key:0})):t.getThemeConfig.layout==="classic"?(g(),V(l,{key:1})):t.getThemeConfig.layout==="transverse"?(g(),V(s,{key:2})):t.getThemeConfig.layout==="columns"?(g(),V(p,{key:3})):H("",!0)}var rs=R(ts,[["render",ns]]);export{rs as default};
